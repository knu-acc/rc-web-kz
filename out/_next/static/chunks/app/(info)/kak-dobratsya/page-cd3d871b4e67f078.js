(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4852],{1456:(e,t,a)=>{"use strict";a.r(t),a.d(t,{YandexMap:()=>d});var o=a(5155),n=a(2115),l=a(8321),s=a(2168),i=a(7439),r=a(9900);function d(e){let{showProjects:t=!1,showDistricts:a=!1}=e,[d,c]=(0,n.useState)(!1),p=(0,n.useCallback)(()=>{window.ymaps&&window.ymaps.ready(()=>{if(!window.ymaps)return;let e=new window.ymaps.Map("yandex-map",{center:[parseFloat(s.j.geo.latitude),parseFloat(s.j.geo.longitude)],zoom:a?11:12,controls:["zoomControl"]}),o=[{coordinates:[parseFloat(s.j.geo.latitude),parseFloat(s.j.geo.longitude)],title:s.j.name,description:s.j.address.addressLocality,type:"office"}];a&&i.iu.forEach(e=>{e.coordinates&&o.push({coordinates:[e.coordinates.latitude,e.coordinates.longitude],title:e.nameFull,description:"Работаем в ".concat(e.nameFull),type:"district"})}),t&&r.L.length>0&&r.L.slice(0,5).forEach((e,t)=>{let a=.01*(t+1);o.push({coordinates:[parseFloat(s.j.geo.latitude)+a,parseFloat(s.j.geo.longitude)+a],title:e.title,description:e.description,type:"project"})});let n=new window.ymaps.Clusterer({clusterDisableClickZoom:!0,clusterOpenBalloonOnClick:!0});o.forEach(e=>{var t;if(!window.ymaps)return;let a="office"===e.type?"#6366f1":"district"===e.type?"#10b981":"#8b5cf6",o=new window.ymaps.Placemark(e.coordinates,{balloonContentHeader:e.title,balloonContentBody:e.description||"",balloonContentFooter:"project"===e.type?'<a href="'.concat(null==(t=r.L.find(t=>t.title===e.title))?void 0:t.url,'" target="_blank">Открыть сайт</a>'):"",hintContent:e.title},{preset:"islands#".concat(a,"Icon"),iconColor:a});n.add(o)}),e.geoObjects.add(n),c(!0)})},[t,a]),u=(0,n.useCallback)(()=>{p()},[p]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.default,{src:"https://api-maps.yandex.ru/2.1/?lang=ru_RU",strategy:"lazyOnload",onLoad:u}),(0,o.jsx)("div",{id:"yandex-map",role:"img","aria-label":"Карта расположения офиса RC-WEB в Алматы",className:"w-full h-[280px] sm:h-[350px] lg:h-[400px] rounded-xl overflow-hidden"}),!d&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-secondary-100 dark:bg-secondary-800 rounded-xl",role:"status","aria-live":"polite",children:(0,o.jsxs)("div",{className:"animate-pulse text-secondary-400",children:[(0,o.jsx)("span",{className:"sr-only",children:"Загрузка карты"}),(0,o.jsx)("span",{"aria-hidden":"true",children:"Загрузка карты..."})]})})]})}},6653:(e,t,a)=>{Promise.resolve().then(a.bind(a,1456)),Promise.resolve().then(a.bind(a,2352)),Promise.resolve().then(a.bind(a,4437)),Promise.resolve().then(a.bind(a,6552))}},e=>{e.O(0,[2619,2276,2352,8441,1255,7358],()=>e(e.s=6653)),_N_E=e.O()}]);